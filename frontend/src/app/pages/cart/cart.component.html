<div class="cart-page">
  <!-- Header -->
  <header class="cart-header">
    <button class="back-btn" (click)="goHome()">← Home</button>
    <h1>Your Cart</h1>
  </header>

  <div class="content">
    <!-- Empty Cart -->
    <div *ngIf="!cart || cart.items.length === 0" class="empty-cart">
      <div class="empty-icon"></div>
      <h2>Your cart is empty</h2>
      <p>Add some delicious dishes from our restaurants!</p>
      <button class="btn-primary" (click)="goHome()">Browse Restaurants</button>
    </div>

    <!-- Cart Items -->
    <div *ngIf="cart && cart.items.length > 0" class="cart-content">
      <!-- Restaurant Name -->
      <div class="restaurant-banner">
        <span class="restaurant-icon"></span>
        <span class="restaurant-name">{{ cart.restaurantName }}</span>
      </div>

      <!-- Error Message -->
      <div *ngIf="error" class="error-message">
        {{ error }}
        <button class="dismiss-btn" (click)="error = ''">×</button>
      </div>

      <!-- Items List -->
      <div class="items-list">
        <div *ngFor="let item of cart.items" class="cart-item">
          <div class="item-info">
            <h3>{{ item.dish.name }}</h3>
            <p class="item-price">€{{ formatPrice(item.dish.price_cents) }} each</p>
          </div>
          
          <div class="quantity-controls">
            <button class="qty-btn" (click)="updateQuantity(item, -1)" [disabled]="cart.loading">−</button>
            <span class="quantity">{{ item.quantity }}</span>
            <button class="qty-btn" (click)="updateQuantity(item, 1)" [disabled]="cart.loading">+</button>
          </div>
          
          <div class="item-total">
            €{{ formatPrice(item.dish.price_cents * item.quantity) }}
          </div>
          
          <button class="remove-btn" (click)="removeItem(item)" [disabled]="cart.loading">
            <span class="trash-icon"></span>
          </button>
        </div>
      </div>

      <!-- Cart Summary -->
      <div class="cart-summary">
        <div class="summary-row">
          <span>Items</span>
          <span>{{ totalItems }}</span>
        </div>
        <div class="summary-row total">
          <span>Total</span>
          <span class="total-price">€{{ formatPrice(totalPrice) }}</span>
        </div>
      </div>

      <!-- Actions -->
      <div class="cart-actions">
        <button class="btn-secondary" (click)="continueShopping()">
          + Add More
        </button>
        <button class="btn-primary" (click)="checkout()" [disabled]="submitting || cart.loading">
          {{ submitting ? 'Placing Order...' : 'Place Order' }}
        </button>
      </div>

      <button class="clear-cart-btn" (click)="clearCart()">
        Clear Cart
      </button>
    </div>
  </div>
</div>
