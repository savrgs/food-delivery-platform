<div class="register-container">
  <div class="register-card">
    <div class="register-header">
      <h1>FreshEats</h1>
      <h2>Create Account</h2>
    </div>

    @if (success) {
      <div class="success-alert">
        ✅ Registration successful! Redirecting to login...
      </div>
    } @else {
      <form (ngSubmit)="onSubmit()" class="register-form">
        <!-- Error Message -->
        @if (error) {
          <div class="error-alert">
            {{ error }}
            <button type="button" class="btn-close-error" (click)="clearError()" title="Close">×</button>
          </div>
        }

        <!-- Email -->
        <div class="form-group">
          <label for="email">Email *</label>
          <input
            type="email"
            id="email"
            name="email"
            [(ngModel)]="formData.email"
            placeholder="your@email.com"
            required
            [disabled]="loading"
          />
        </div>

        <!-- Password -->
        <div class="form-group">
          <label for="password">Password *</label>
          <input
            type="password"
            id="password"
            name="password"
            [(ngModel)]="formData.password"
            placeholder="At least 6 characters"
            required
            [disabled]="loading"
          />
        </div>

        <!-- Confirm Password -->
        <div class="form-group">
          <label for="confirmPassword">Confirm Password *</label>
          <input
            type="password"
            id="confirmPassword"
            name="confirmPassword"
            [(ngModel)]="formData.confirmPassword"
            placeholder="Re-enter password"
            required
            [disabled]="loading"
          />
        </div>

        <!-- Full Name -->
        <div class="form-group">
          <label for="full_name">Full Name</label>
          <input
            type="text"
            id="full_name"
            name="full_name"
            [(ngModel)]="formData.full_name"
            placeholder="John Doe"
            [disabled]="loading"
          />
        </div>

        <!-- Address -->
        <div class="form-group">
          <label for="address">Delivery Address</label>
          <textarea
            id="address"
            name="address"
            [(ngModel)]="formData.address"
            placeholder="123 Main St, City"
            rows="2"
            [disabled]="loading"
          ></textarea>
        </div>

        <!-- Submit Button -->
        <button type="submit" class="btn-primary" [disabled]="loading">
          @if (loading) {
            <span>Creating account...</span>
          } @else {
            <span>Register</span>
          }
        </button>

        <!-- Login Link -->
        <div class="form-footer">
          <p>Already have an account? <a routerLink="/login">Login here</a></p>
        </div>
      </form>
    }
  </div>
</div>
